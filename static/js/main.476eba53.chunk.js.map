{"version":3,"sources":["components/CommentItem.jsx","components/MyModal.jsx","components/MovieItem.jsx","App.js","index.js"],"names":["CommentItem","comment","number","remove","className","body","onClick","MyModal","children","visible","setVisible","rootClasses","push","join","e","stopPropagation","MovieItem","title","year","runtime","rating","useState","comments","setComments","id","setComment","modal","setModal","removeComment","filter","obj","console","log","value","onChange","target","type","placeholder","preventDefault","Date","now","length","map","index","App","movies","setMovies","currentPage","setCurrentPage","fetching","setFetching","totalCount","setTotalCount","useEffect","document","offsetHeight","window","innerHeight","fetch","then","resp","json","data","prevState","movie_count","finally","addEventListener","scrollHandler","removeEventListener","documentElement","scrollHeight","scrollTop","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.476eba53.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nfunction CommentItem({ comment, number, remove }) {\r\n  return <div className={'commentItem'}>\r\n      <div className={'commentBody'}>{number}. {comment.body}</div>\r\n      <button className='myBtn' onClick={() => remove(comment)}>Remove</button>\r\n      </div>;\r\n}\r\n\r\nexport default CommentItem;\r\n","import React from 'react'\r\n\r\nfunction MyModal({children, visible, setVisible}) {\r\n\r\n    const rootClasses = ['myModal']\r\n\r\n    if (visible) {\r\n        rootClasses.push('active');\r\n    }\r\n\r\n    return (\r\n        <div className={rootClasses.join(' ')} onClick={() => setVisible(false)}>\r\n            <div className={'myModalContent'} onClick={(e) => e.stopPropagation()}>\r\n                {children}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MyModal\r\n","import React, { useState } from \"react\";\r\nimport CommentItem from \"./CommentItem\";\r\nimport MyModal from \"./MyModal\";\r\n\r\nfunction MovieItem({ title, year, runtime, rating }) {\r\n  const [comments, setComments] = useState([\r\n    // { id: 1, body: \"description\" },\r\n    // { id: 2, body: \"description\" },\r\n  ]);\r\n\r\n  const [comment, setComment] = useState({ id: \"\", body: \"\" });\r\n  const [modal, setModal] = useState(false);\r\n\r\n  const addNewComment = (e) => {\r\n    e.preventDefault();\r\n    setComments([...comments, { ...comment, id: Date.now() }]);\r\n    console.log(comment);\r\n    setComment({ id: \"\", body: \"\" });\r\n  };\r\n\r\n  const removeComment = (comment) => {\r\n    setComments(comments.filter((obj) => obj.id !== comment.id));\r\n    console.log(comment);\r\n  };\r\n\r\n  return (\r\n    <div className=\"row\">\r\n      <div className=\"cell\">{title}</div>\r\n      <div className=\"cell\">{year}</div>\r\n      <div className=\"cell\">{runtime}</div>\r\n      <div className=\"cell\">{rating}</div>\r\n      <div className=\"cell\">\r\n        <button onClick={() => setModal(true)} >Open comments</button>\r\n        <MyModal visible={modal} setVisible={setModal}>\r\n        <form>\r\n          <input\r\n            value={comment.body}\r\n            onChange={(e) => setComment({ ...comment, body: e.target.value })}\r\n            className=\"myInput\"\r\n            type=\"text\"\r\n            placeholder=\"Add comment\"\r\n          />\r\n          <button onClick={addNewComment} className=\"myBtn\">\r\n            Create comment\r\n          </button>\r\n        </form>\r\n        {comments.length ? (\r\n          comments.map((obj, index) => (\r\n            <CommentItem\r\n              key={obj.id}\r\n              number={index + 1}\r\n              comment={obj}\r\n              remove={removeComment}\r\n            />\r\n          ))\r\n        ) : (\r\n          <div>No comments added</div>\r\n        )}\r\n        </MyModal>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MovieItem;\r\n","import React, { useEffect, useState } from \"react\";\nimport \"./App.css\";\nimport MovieItem from \"./components/MovieItem\";\n\nfunction App() {\n  const [movies, setMovies] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [fetching, setFetching] = useState(true);\n  const [totalCount, setTotalCount] = useState(100);\n\n  useEffect(() => {\n    if (fetching || (document.body.offsetHeight < window.innerHeight)) {\n      console.log(\"fetching\");\n      fetch(\n        `https://yts.mx/api/v2/list_movies.json?limit=50&page=${currentPage}`\n      )\n        .then((resp) => resp.json())\n        .then((json) => {\n          setMovies([...movies, ...json.data.movies]);\n          setCurrentPage((prevState) => prevState + 1);\n          setTotalCount(json.data.movie_count);\n        })\n        .finally(() => setFetching(false));\n    }\n  }, [fetching]);\n\n  useEffect(() => {\n    document.addEventListener(\"scroll\", scrollHandler);\n    return function () {\n      document.removeEventListener(\"scroll\", scrollHandler);\n    };\n  }, []);\n  const scrollHandler = (e) => {\n    if (\n      e.target.documentElement.scrollHeight -\n        (e.target.documentElement.scrollTop + window.innerHeight) <\n        100 &&\n      movies.length < totalCount\n    ) {\n      setFetching(true);\n    }\n  };\n  return (\n    <div className=\"App\">\n      <h3>List of movies</h3>\n      <div className=\"table\">\n        <div className=\"row\">\n          <div className=\"cell\">Title</div>\n          <div className=\"cell\">Year</div>\n          <div className=\"cell\">Runtime</div>\n          <div className=\"cell\">Rating</div>\n          <div className=\"cell\">Comments</div>\n        </div>\n        {movies.map((obj, index) => (\n          <MovieItem\n            key={index}\n            title={obj.title}\n            year={obj.year}\n            runtime={obj.runtime}\n            rating={obj.rating}\n          />\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n   <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}